print "Halt";
print [SYSTEM_STATUS_TABLE+1];
[PROCESS_TABLE + ([SYSTEM_STATUS_TABLE + 1]*16) + 4] = TERMINATED;
SP = [PROCESS_TABLE +([SYSTEM_STATUS_TABLE + 1]*16 ) + 11 ] *512 - 1;
alias flag R0;
alias i R1;
flag = 1;
i = 1;
while(i<16) do
	if([PROCESS_TABLE+(i*16)+4]!=TERMINATED) then
		flag = 0;
		break;
	endif;
	i = i + 1;
endwhile;
if(flag==1) then
	halt;
else
	call MOD_5;
endif;
[PROCESS_TABLE + ([SYSTEM_STATUS_TABLE + 1]*16) + 9] = 10;
[PROCESS_TABLE + ([SYSTEM_STATUS_TABLE + 1]*16) + 13] = SP;
SP = [PROCESS_TABLE +([SYSTEM_STATUS_TABLE + 1]*16 ) + 11 ] *512 - 1;
backup;
R1 = EXIT_PROCESS;
R2 = [SYSTEM_STATUS_TABLE + 1];
call MOD_1;
restore;
call MOD_5;
halt;
